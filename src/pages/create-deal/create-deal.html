<ion-header>
  <ion-navbar color=tertiary>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Poster un deal</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="background-gray">
  <form>

    <ion-label style="margin-left: 15px">TYPE DE DEAL</ion-label>

    <div class="row">
      <div class="column bordered" style="border-right: 1px solid #aaa;">
        <button ion-button clear icon-only (click)="setType('eat')" [ngStyle]="{'color': buttonEat}">
          <ion-icon name="restaurant"></ion-icon>
        </button>
      </div>
      <div class="column bordered">
        <button ion-button clear icon-only (click)="setType('drink')" [ngStyle]="{'color': buttonDrink}">
          <ion-icon name="wine"></ion-icon>
        </button>
      </div>
    </div>

    <ion-label style="margin-left: 15px">INFORMATIONS</ion-label>

    <ion-item>
      <ion-label>
        <ion-icon name="briefcase"></ion-icon>
      </ion-label>
      <ion-input type="text" placeholder="Nom de l'enseigne" [(ngModel)]="deal.nom" name="nom"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-icon name="home"></ion-icon>
      </ion-label>
      <ion-input type="text" placeholder="Adresse" [(ngModel)]="deal.adresse" name="adresse"></ion-input>
    </ion-item>

    <div class="row">
      <div class="column">
        <ion-item>
          <ion-label>
            <ion-icon name="locate"></ion-icon>
          </ion-label>
          <ion-input type="text" placeholder="Ville" [(ngModel)]="deal.ville" name="ville"></ion-input>
        </ion-item>
      </div>
      <div class="column">
        <ion-item>
          <ion-input type="number" placeholder="CP" [(ngModel)]="deal.codepostal" name="codepostal"></ion-input>
        </ion-item>
      </div>
    </div>

    <ion-item>
      <ion-label>
        <ion-icon name="call"></ion-icon>
      </ion-label>
      <ion-input type="tel" placeholder="N° Tél" [(ngModel)]="deal.telephone" name="telephone"></ion-input>
    </ion-item>

    <ion-label style="margin-left: 15px">DÉTAILS DU DEAL</ion-label>

    <ion-list style="margin-bottom: 0px;">
      <ion-item>
        <ion-label>Type de réduction</ion-label>
        <ion-select [(ngModel)]="deal.reduction_type" name="reduction_type">
          <ion-option value="reduction">Réduction</ion-option>
          <ion-option value="rabais">Rabais</ion-option>
          <ion-option value="autre">Autre</ion-option>
        </ion-select>
      </ion-item>
    </ion-list>

    <ion-item>
      <ion-label>
        <ion-icon name="card"></ion-icon>
      </ion-label>
      <ion-input class="price" type="number" placeholder="Prix" [(ngModel)]="deal.prix" name="prix"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-icon name="calculator"></ion-icon>
      </ion-label>
      <ion-input class="reduc" type="number" placeholder="Réduction" [(ngModel)]="deal.montant_reduction" name="montant_reduction"></ion-input>%
    </ion-item>


    <ion-item>
      <ion-textarea placeholder="Description" [(ngModel)]="deal.description" name="description"></ion-textarea>
    </ion-item>

    <ion-list style="margin-bottom: 0px;" *ngIf="eat === true">
      <ion-item>
        <ion-label>Catégorie</ion-label>
        <ion-select [(ngModel)]="deal.categorie_restaurant" name="categorie_restaurant">
          <ion-option value="pizzeria">Pizzeria</ion-option>
          <ion-option value="indien">Indien</ion-option>
          <ion-option value="asiatique">Asiatique</ion-option>
          <ion-option value="fast-food">Fast-food</ion-option>
          <ion-option value="français">Français</ion-option>
          <ion-option value="boulangerie">Boulangerie</ion-option>
        </ion-select>
      </ion-item>
    </ion-list>

    <ion-item>
      <ion-label>
        <ion-icon name="calendar"></ion-icon>
      </ion-label>
      <ion-datetime displayFormat="DD MMM YYYY" placeholder="Date de début" [(ngModel)]="deal.datedebut" name="datedebut"></ion-datetime>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-icon name="calendar"></ion-icon>
      </ion-label>
      <ion-datetime displayFormat="DD MMM YYYY" placeholder="Date de fin" [(ngModel)]="deal.datefin" name="datefin"></ion-datetime>
    </ion-item>
  </form>

  <ion-list style="margin-top: 10px;">
    <ion-list-header>
      Jours deal actif
    </ion-list-header>
    <ion-item>
      <ion-label>Lundi</ion-label>
      <ion-checkbox [(ngModel)]="lundi"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Mardi</ion-label>
      <ion-checkbox [(ngModel)]="mardi"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Mercredi</ion-label>
      <ion-checkbox  [(ngModel)]="mercredi"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Jeudi</ion-label>
      <ion-checkbox [(ngModel)]="jeudi"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Vendredi</ion-label>
      <ion-checkbox [(ngModel)]="vendredi"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Samedi</ion-label>
      <ion-checkbox  [(ngModel)]="samedi"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Dimanche</ion-label>
      <ion-checkbox  [(ngModel)]="dimanche"></ion-checkbox>
    </ion-item>
  </ion-list>


  <ion-list style="margin-top: 10px;">
    <ion-list-header>
      Moment de la journée
    </ion-list-header>
    <ion-item>
      <ion-label>Matin</ion-label>
      <ion-checkbox [(ngModel)]="matin" ></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Midi</ion-label>
      <ion-checkbox [(ngModel)]="midi" ></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Soir</ion-label>
      <ion-checkbox [(ngModel)]="soir" ></ion-checkbox>
    </ion-item>
  </ion-list>


  <div text-center margin>
    <button ion-button block color="secondary" (click)="saveDeal()">
      <ion-icon name="share"></ion-icon>&emsp;Envoyer le deal
    </button>
  </div>

</ion-content>
